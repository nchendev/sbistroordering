(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,a){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD//gAQTGF2YzU4LjM1LjEwMAD/2wBDAAgEBAQEBAUFBQUFBQYGBgYGBgYGBgYGBgYHBwcICAgHBwcGBgcHCAgICAkJCQgICAgJCQoKCgwMCwsODg4RERT/xABtAAEBAQEBAQAAAAAAAAAAAAAAAQIDBwQBAQEBAQEBAAAAAAAAAAAAAAABAgMFBBABAQEAAgEDBQEBAQAAAAAAAAEREgIDEyFBcWEx8FHhwbERAQEBAQEAAwEBAAAAAAAAAAABESFREgJhMYH/wAARCABkAGQDASIAAhEAAxEA/9oADAMBAAIRAxEAPwD2a6mqlfXHmWptNRVTTTRA1dpADWtGZ+1UNalXWT90XWtN+4HV2frFqX3VlUoAIABRUII0IqVVX2QFVU9z3Bi1KWoqUVARUIaCiEoNLKyorW+yfP8AwioLKahornqWpqWtMX7Lq6yaHya01nTQv2a01nSUTa3L74rOrqLrWms6aLrYztNpkX5X9c6jViWKxUDDBP4aB9fwvDqKRQIqLIiwjSQ/8QU36mGDX+Ficfdq2JsJpcTinHGuUTlF6nE4nE5HKHU4mYuGxdh04YuJyiztDqzFww05RF4YZ9zkcg1818vdnt5e5Wezo4232rfL3h63dmgm32ter3/qXy90qX4/fgiW32tet3J5u+sL8qbfa16vfdanl7/1z/jURdvtdJ5u563dg/xL/Wpbl7Vvm76ev5Gb+UVn5fb2v//Z"},144:function(e,a,t){e.exports=t(176)},173:function(e,a,t){},176:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),o=t.n(i),l=t(75),c=t(15),m=t(32),s=t.n(m),d=t(47),u=t(6),p=t(227),g=t(222),f=t(246),h=t(225),E=t(250),v=t(219),b=t(124),y=t(247),C=t(221),x=t(220),w=t(58),S=t.n(w);function O(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://szechuanbistro.com"},"Szechuan Bistro")," ",(new Date).getFullYear(),".")}var I=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(/api/image/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function N(e){var a=I(),t=Object(n.useState)({email:"",password:""}),i=Object(u.a)(t,2),o=i[0],l=i[1],c=Object(n.useState)(""),m=Object(u.a)(c,2),x=m[0],w=m[1],N=Object(n.useState)(!1),k=Object(u.a)(N,2),j=k[0],A=k[1];Object(n.useEffect)((function(){"undefined"!==localStorage.getItem("information")&&null!==localStorage.getItem("information")&&D(localStorage.getItem("information")),"undefined"!==sessionStorage.getItem("information")&&null!==sessionStorage.getItem("information")&&D(sessionStorage.getItem("information"))}));var B=function(e){return function(a){o[e]=a.target.value,l(o),console.log(o)}},F=function(e){j?(localStorage.setItem("information",JSON.stringify(e.information)),sessionStorage.removeItem("information")):(sessionStorage.setItem("information",JSON.stringify(e.information)),localStorage.removeItem("information")),D()},D=function(a){e.history.push({pathname:"/ordersystem"})};return r.a.createElement(C.a,{container:!0,component:"main",className:a.root},r.a.createElement(g.a,null),r.a.createElement(C.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(C.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement("img",{src:S.a,style:{height:"15vh"}}),r.a.createElement(d.a,{component:"h1",variant:"h5"},"Szechuan Bistro"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:B("email")}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:B("password")}),r.a.createElement(h.a,{control:r.a.createElement(E.a,{value:"remember",color:"primary",checked:j,onClick:function(e){A(!j)}}),label:"Remember me"}),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(d.a,{variant:"body2",color:"error"},x))),r.a.createElement(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){var a=o;console.log("calling api"),s.a.post("/api/user/login",a).then((function(e){w(""),console.log(e.data),F(e.data)})).catch((function(e){console.error("error:"+e),console.log(e.response.data),w(e.response.data.message)})),console.log(a)}},"Log In"),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(v.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(C.a,{item:!0},r.a.createElement(v.a,{onClick:function(a){e.history.push("/register")},variant:"body2"},"Don't have an account? Register")))),r.a.createElement(d.a,{component:"h1",variant:"h6"},"Or"),r.a.createElement(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(a){e.history.push("/ordersystem")}},"Make Guest Order"),r.a.createElement(y.a,{mt:5},r.a.createElement(O,null)))))}var k=t(8),j=t(35),A=t(228),B=t(229),F=t(226),D=t(230),T=t(116),W=t.n(T),P=t(231),R=t(123),z=t(232);Object(x.a)((function(e){return{root:{direction:"column",flexGrow:1,justifyContent:"space-between"},paper:{padding:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var L=t(239),q=t(240),V=t(241),Q=t(62),Y=t(61),J=t(252),G=t(238),U=t(235),H=t(237),M=t(234),X=t(233),$=t(236);function K(e){var a=Z(),n=r.a.useState(e.amount),i=Object(u.a)(n,2),o=i[0],l=i[1],c=r.a.useState(e.note),m=Object(u.a)(c,2),s=m[0],d=m[1],g=function(a){l(1),d(""),e.setShowDialog(!1)};return r.a.createElement(J.a,{open:e.showDialog,onClose:g,"aria-labelledby":"form-dialog-title"},r.a.createElement(X.a,{className:a.root},r.a.createElement(M.a,{id:"form-dialog-title"},e.menuItem.id+". ",e.menuItem.english+" ",Object(j.a)(Array(parseInt(e.menuItem.spicy))).map((function(e,a){return r.a.createElement(Y.a,{icon:Q.a,style:{color:"red"}})}))),r.a.createElement(U.a,{dividers:!0},r.a.createElement($.a,{className:a.media,image:t(118),title:e.menuItem.english}),r.a.createElement(f.a,{margin:"dense",id:"order-amount",label:"Number to Order",type:"number",select:!0,SelectProps:{native:!0},value:o,onChange:function(e){l(e.target.value),console.log(o)},fullWidth:!0},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:6},"6"),r.a.createElement("option",{value:7},"7"),r.a.createElement("option",{value:8},"8"),r.a.createElement("option",{value:9},"9"),r.a.createElement("option",{value:10},"10")),r.a.createElement(f.a,{margin:"dense",id:"customer-note",label:"Note/Modifications",text:"test",placeholder:" ",value:s,onChange:function(e){d(e.target.value),console.log(s)},fullWidth:!0}),r.a.createElement(H.a,null,"Any changes may be subject to extra charges."),r.a.createElement(H.a,{align:"right"},"$",(parseFloat(e.menuItem.price)*o).toFixed(2))),r.a.createElement(G.a,null,r.a.createElement(p.a,{onClick:g,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:function(a){console.log("added to order!"),e.addToOrder({id:e.menuItem.id,english:e.menuItem.english,chinese:e.menuItem.chinese,spicy:e.menuItem.spicy,price:e.menuItem.price,amount:o,note:s}),g()},color:"primary"},"Add to Order"))))}var Z=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},root:{maxWidth:345},media:{height:140}}})),_=Object(x.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),color:e.palette.text.secondary}}}));var ee=function(e){var a=_(),t=r.a.useState(!1),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{className:a.root},r.a.createElement(C.a,{item:!0,onClick:function(e){o(!i)},direction:"column",justify:"flex-start"},r.a.createElement(b.a,{square:!0,className:a.paper},e.menuItem.id+". "+e.menuItem.english+" ",Object(j.a)(Array(parseInt(e.menuItem.spicy))).map((function(e,a){return r.a.createElement(Y.a,{icon:Q.a,style:{color:"red"}})})))),r.a.createElement(K,{menuItem:e.menuItem,addToOrder:e.addToOrder,showDialog:i,setShowDialog:o,amount:1,note:""}))},ae=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{position:"sticky",flexWrap:"nowrap",transform:"translateZ(0)",overflowX:"scroll"},category:{marginTop:e.spacing(1)},text:{padding:e.spacing(1)},gridTile:{height:"fixed",margin:e.spacing(1),padding:e.spacing(1)}}}));var te=function(e){var a=ae(),t=r.a.useState([]),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{className:a.root},r.a.createElement(d.a,{disablePadding:!0,component:"h4",variant:"subtitle1",align:"center",className:a.text},"1. Select Category"),r.a.createElement(L.a,{cellHeight:180,className:a.gridList},Object.keys(e.menu).map((function(t,n){return r.a.createElement(q.a,{key:t,className:a.gridTile,style:{height:"auto",width:"fixed"},onClick:function(){return function(a){console.log(a.menuCategory+" selected"),o(e.menu[a.menuCategory])}({menuCategory:t})}},r.a.createElement(V.a,{component:"div"},t))}))),r.a.createElement(d.a,{disablePadding:!0,component:"h4",variant:"subtitle1",align:"center",className:a.text},"2. Choose Items"),i.map((function(a){return r.a.createElement(C.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch",xs:12},r.a.createElement(ee,{key:a.english,menuItem:a,addToOrder:e.addToOrder}))})))},ne=t(34),re=t(179),ie=t(242);function oe(e){var a=le(),n=e.amount,i=r.a.useState(e.amount),o=Object(u.a)(i,2),l=o[0],c=o[1],m=r.a.useState(e.note),s=Object(u.a)(m,2),d=s[0],g=s[1],h=function(a){c(e.orderItem.amount),g(e.orderItem.note),e.setShowDialog(!1)};return r.a.createElement(J.a,{open:e.showDialog,onClose:h,"aria-labelledby":"form-dialog-title"},r.a.createElement(X.a,{className:a.root},r.a.createElement(M.a,{id:"form-dialog-title"},e.orderItem.id+". ",e.orderItem.english+" ",Object(j.a)(Array(parseInt(e.orderItem.spicy))).map((function(e,a){return r.a.createElement(Y.a,{icon:Q.a,style:{color:"red"}})}))),r.a.createElement(U.a,{dividers:!0},r.a.createElement($.a,{className:a.media,image:t(118),title:e.orderItem.english}),r.a.createElement(f.a,{margin:"dense",id:"order-amount",label:"Number to Order",type:"number",select:!0,SelectProps:{native:!0},value:l,onChange:function(e){c(e.target.value)},fullWidth:!0},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:6},"6"),r.a.createElement("option",{value:7},"7"),r.a.createElement("option",{value:8},"8"),r.a.createElement("option",{value:9},"9"),r.a.createElement("option",{value:10},"10")),r.a.createElement(f.a,{margin:"dense",id:"customer-note",label:"Note/Modifications",text:"test",placeholder:" ",value:d,onChange:function(e){g(e.target.value)},fullWidth:!0}),r.a.createElement(H.a,null,"Any changes may be subject to extra charges."),r.a.createElement(H.a,{align:"right"},"$",(parseFloat(e.orderItem.price)*l).toFixed(2))),r.a.createElement(G.a,null,r.a.createElement(p.a,{onClick:function(a){console.log("removing from order!"),e.removeFromOrder(e.itemIndex),h()},color:"primary"},"Remove Item"),r.a.createElement(p.a,{onClick:function(a){e.editInOrder(e.itemIndex,l-n,d),h()},color:"primary"},"Confirm Change"))))}var le=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},root:{maxWidth:345},media:{height:140}}})),ce=Object(x.a)((function(e){return{root:{display:"flex",minWidth:"100%"},details:{display:"flex",flexDirection:"row"},content:{flex:"1 0 auto"}}}));function me(e){var a=ce(),t=(Object(ne.a)(),r.a.useState(!1)),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(re.a,{className:a.listItem,key:e.orderItem.english,onClick:function(e){o(!i)}},r.a.createElement(ie.a,{primary:e.orderItem.english,secondary:e.orderItem.note}),r.a.createElement(d.a,{variant:"body2"},e.orderItem.amount," x $",e.orderItem.price)),r.a.createElement(oe,{orderItem:e.orderItem,showDialog:i,setShowDialog:o,amount:e.orderItem.amount,note:e.orderItem.note,itemIndex:e.itemIndex,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder}))}Object(x.a)((function(e){return{paper:{padding:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var se=Object(x.a)((function(e){return Object(k.a)({root:{direction:"column",flexGrow:1,justifyContent:"space-between"},paper:{padding:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},margin:{margin:e.spacing(1)},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}},"menuButton",{marginRight:e.spacing(2)})}));function de(e){var a=se(),t=r.a.useState(!1),i=Object(u.a)(t,2),o=i[0],l=i[1],c=r.a.useState(""),m=Object(u.a)(c,2),s=m[0],p=m[1],g=r.a.useState(null),f=Object(u.a)(g,2),h=f[0],E=f[1],v=Boolean(h),b=localStorage;Object(n.useEffect)((function(){null!==b.getItem("information")&&"undefined"!==b.getItem("information")||(b=sessionStorage),"undefined"!==b.getItem("information")&&null!==b.getItem("information")&&(l(!0),p(JSON.parse(b.getItem("information")).name))}));return r.a.createElement("div",null,r.a.createElement(A.a,{position:"fixed"},r.a.createElement(B.a,null,r.a.createElement("img",{src:S.a,height:"40vh",width:"40vh",className:a.margin}),r.a.createElement(d.a,{variant:"h6",className:a.title},e.title),r.a.createElement("div",null,r.a.createElement(F.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){E(e.currentTarget)},color:"inherit"},r.a.createElement(W.a,{fontSize:"large"})),r.a.createElement(R.a,{id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:function(){E(null)}},o?r.a.createElement("div",null,r.a.createElement(P.a,{disabled:!0,divider:!0},r.a.createElement(d.a,{variant:"h6",className:a.title},"Hello ",s)),r.a.createElement(P.a,{onClick:function(a){l(!1),p(""),b.removeItem("information"),b=localStorage,e.resetInformationState(),console.log("logging user out")}},"Logout")):r.a.createElement("div",null,r.a.createElement(P.a,{onClick:function(e){console.log("login")}},"Login"),r.a.createElement(P.a,{onClick:function(e){console.log("register")}},"Register")))))),r.a.createElement(B.a,null))}var ue=t(248),pe=t(243);function ge(e){var a=r.a.useState(!1),t=Object(u.a)(a,2),i=t[0],o=t[1],l=r.a.useState(e.options.pickup),c=Object(u.a)(l,2),m=c[0],g=c[1];r.a.useState(m?"primary":"default");var h=r.a.useState(m?"primary":"default"),E=Object(u.a)(h,2),v=E[0],b=E[1],y=r.a.useState(m?"default":"primary"),x=Object(u.a)(y,2),w=x[0],S=x[1],O=r.a.useState(""),I=Object(u.a)(O,2),N=I[0],k=I[1],j=function(a){g(!m),b("default"===v?"primary":"default"),S("default"===w?"primary":"default"),e.handlePickupDeliveryToggle()};return Object(n.useEffect)((function(){e.handlePickupDeliveryToggle(),e.handlePickupDeliveryToggle()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:6,md:4},r.a.createElement(f.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name",onChange:e.handleInfoChange("fname"),defaultValue:e.information.fname})),r.a.createElement(C.a,{item:!0,xs:6,md:4},r.a.createElement(f.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name",onChange:e.handleInfoChange("lname"),defaultValue:e.information.lname})),r.a.createElement(C.a,{item:!0,xs:12,md:4},r.a.createElement(f.a,{required:!0,id:"phone",name:"phone",label:"Phone Number",fullWidth:!0,autoComplete:"phone",onChange:e.handleInfoChange("phone"),defaultValue:e.information.phone}))),r.a.createElement(C.a,{container:!0,spacing:6},r.a.createElement(C.a,{item:!0,xs:6,md:4},r.a.createElement(d.a,{gutterBottom:!0},"Would you like to come pick up your order, or have it delivered?")," "),r.a.createElement(C.a,{item:!0,xs:6,md:8},r.a.createElement(p.a,{variant:"contained",color:v,onClick:function(e){return j()}},"Pickup"),r.a.createElement(p.a,{variant:"contained",color:w,onClick:function(e){return j()}},"Delivery"))),m?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h6",gutterBottom:!0},"Delivery Address"),r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:5},r.a.createElement(f.a,{required:!0,id:"address",name:"address",label:"Address line",fullWidth:!0,autoComplete:"shipping address-line1",onChange:e.handleInfoChange("address"),defaultValue:e.information.address})),r.a.createElement(C.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(f.a,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2",onChange:e.handleInfoChange("city"),defaultValue:e.information.city})),r.a.createElement(C.a,{item:!0,xs:6,sm:8,md:1},r.a.createElement(f.a,{id:"state",name:"state",label:"State",fullWidth:!0,onChange:e.handleInfoChange("state"),value:"OK"})),r.a.createElement(C.a,{item:!0,xs:6,sm:4,md:3},r.a.createElement(f.a,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",onChange:e.handleInfoChange("zip"),defaultValue:e.information.zip})),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(f.a,{required:!0,id:"driverNotes",name:"driverNotes",label:"Note for Driver, Gate Code, etc",fullWidth:!0,onChange:e.handleInfoChange("driverNotes")})),r.a.createElement(C.a,{item:!0,xs:6,md:3},r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){console.log("ping"),o(!1),k("");var a={address:e.information.address,city:e.information.city,state:e.information.state,zip:e.information.zip};if(""!=a.zip){console.log("pong"),s.a.post("/api/distance",a).then((function(a){console.log("pung"),console.log("api reply: "),console.log(a.data),"OK"===a.data.status?(e.setDeliveryFee(a.data.dfee),k("The estimated delivery fee is $"+a.data.dfee+" for a delivery distance of "+a.data.dist),e.setDfeeCalced(!0)):"FAILURE"===a.data.status?(e.setDeliveryFee(3),k("Something went wrong and we couldn't verify your address. The estimated delivery fee has been set to $3.00"),e.setDfeeCalced(!0)):"INVALID"===a.data.status&&(o(!0),e.setDfeeCalced(!1))})).catch((function(a){console.error(a),e.setDeliveryFee(3),k("Something went wrong and we couldn't verify your address. The estimated delivery fee has been set to $3.00"),e.setDfeeCalced(!0)})),console.log("pang")}else o(!0)}},"Calculate Delivery Fee")),r.a.createElement(C.a,{item:!0,xs:6,md:9},r.a.createElement(d.a,{gutterBottom:!0},N)),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(pe.a,{in:i},r.a.createElement(ue.a,{severity:"warning"},"Invalid Address supplied. Please check your information"))))))}function fe(e){var a=r.a.useState(e.options.cash),t=Object(u.a)(a,2),n=t[0],i=t[1],o=r.a.useState(n?"primary":"default"),l=Object(u.a)(o,2),c=l[0],m=l[1],s=r.a.useState(n?"default":"primary"),g=Object(u.a)(s,2),h=g[0],E=g[1],v=function(){i(!n),m("default"===c?"primary":"default"),E("default"===h?"primary":"default"),e.handleCardCashToggle()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h6",gutterBottom:!0},"Payment method"),r.a.createElement(C.a,{container:!0,spacing:6},r.a.createElement(C.a,{item:!0,xs:8,md:4},r.a.createElement(d.a,{gutterBottom:!0},"Will you pay with Cash or Credit Card?")," "),r.a.createElement(C.a,{item:!0,xs:4,md:8},r.a.createElement(p.a,{variant:"contained",color:c,onClick:v},"Cash"),r.a.createElement(p.a,{variant:"contained",color:h,onClick:v},"Card"))),n?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:6},r.a.createElement(f.a,{required:!0,id:"cardName",label:"Name on card",fullWidth:!0,autoComplete:"cc-name",disabled:n,onChange:e.handlePaymentChange("name"),defaultValue:e.payment.name})),r.a.createElement(C.a,{item:!0,xs:12,md:6},r.a.createElement(f.a,{required:!0,id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number",disabled:n,onChange:e.handlePaymentChange("cc"),defaultValue:e.payment.cc,inputProps:{maxLength:19},onInput:function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}})),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{required:!0,id:"expDate",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp",disabled:n,onChange:e.handlePaymentChange("exp"),defaultValue:e.payment.exp,type:"month"})),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(f.a,{required:!0,id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0,autoComplete:"cc-csc",disabled:n,onChange:e.handlePaymentChange("cvv"),defaultValue:e.payment.cvv,inputProps:{maxLength:4},onInput:function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}})),r.a.createElement(C.a,{item:!0,xs:12},"Your credit card details will not be saved in our system"))))}var he=Object(x.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)}}}));function Ee(e){var a=he();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h6",gutterBottom:!0},"Order summary"),r.a.createElement(ye,{order:e.order,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder,price:e.price,handlePriceChange:e.handlePriceChange}),r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(d.a,{variant:"h6",gutterBottom:!0,className:a.title},"Contact"),r.a.createElement(d.a,{gutterBottom:!0},e.information.fname+" "+e.information.lname),r.a.createElement(d.a,{gutterBottom:!0},e.information.phone),e.options.pickup?r.a.createElement("div",null,"You will come pick your order up"):r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h6",gutterBottom:!0,className:a.title},"Delivery Address"),r.a.createElement(d.a,{gutterBottom:!0},e.information.address),r.a.createElement(d.a,{gutterBottom:!0},e.information.city+"\n"+e.information.state+"\n"+e.information.zip),r.a.createElement(d.a,{gutterBottom:!0},"note: ",e.information.driverNote))),r.a.createElement(C.a,{item:!0,container:!0,direction:"column",xs:12,sm:6},r.a.createElement(d.a,{variant:"h6",gutterBottom:!0,className:a.title},"Payment details"),e.options.cash?r.a.createElement("div",null,r.a.createElement(d.a,{gutterBottom:!0},"You will pay for your order with cash")):r.a.createElement("div",null,r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},"Card Holder")),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},e.payment.name)),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},"Card Number")),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},e.payment.cc)),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},"Expiry Date")),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},e.payment.exp)),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},"CVV")),r.a.createElement(C.a,{item:!0,xs:6},r.a.createElement(d.a,{gutterBottom:!0},e.payment.cvv)))))))}var ve=t(178),be=Object(x.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700}}}));function ye(e){var a=be();return r.a.createElement("div",null,r.a.createElement(ve.a,{disablePadding:!0},e.order.map((function(a,t){return r.a.createElement(me,{itemIndex:t,orderItem:a,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder})})),r.a.createElement(z.a,null),r.a.createElement(re.a,{className:a.listItem},r.a.createElement(ie.a,{primary:"Estimated Subtotal"}),r.a.createElement(d.a,{variant:"subtitle1",className:a.total},"$",e.price.subtotal.toFixed(2))),r.a.createElement(re.a,{className:a.listItem},r.a.createElement(ie.a,{primary:"Estimated Tax"}),r.a.createElement(d.a,{variant:"subtitle1",className:a.total},"$",e.price.tax.toFixed(2))),r.a.createElement(re.a,{className:a.listItem},r.a.createElement(ie.a,{primary:"Estimated Delivery Fee"}),r.a.createElement(d.a,{variant:"subtitle1",className:a.total},isNaN(e.price.dfee)?r.a.createElement("div",null,e.price.dfee):r.a.createElement("div",null,"$",e.price.dfee.toFixed(2)))),r.a.createElement(re.a,{className:a.listItem},r.a.createElement(ie.a,{primary:"Estimated Total"}),r.a.createElement(d.a,{variant:"subtitle1",className:a.total},"$",e.price.total.toFixed(2)))))}var Ce=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),margin:{margin:e.spacing(1)},fab:{margin:0,bottom:e.spacing(1),position:"fixed",minWidth:"80vw"},fabSpace:{margin:e.spacing(1),height:"40px"},text:{padding:e.spacing(1)}}}));function xe(e){var a=Ce(),t=r.a.useState(!1),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement("div",{className:a.layout},r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement(b.a,{elevation:2,className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center",className:a.text},"Menu"),r.a.createElement(z.a,null),r.a.createElement(te,{menu:e.menu,addToOrder:e.addToOrder})),r.a.createElement("div",{elevation:0,className:a.fabSpace}),r.a.createElement(C.a,{container:!0},r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab),onClick:function(){0==e.order.length?o(!0):e.nextStep()}},"Review Order"))),r.a.createElement(J.a,{open:i,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(M.a,{id:"alert-dialog-title"},"You haven't ordered anything yet!"),r.a.createElement(U.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},"To order items, choose a category then select the item you want to order.")))))}var we=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),margin:{margin:e.spacing(1)},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"},text:{padding:e.spacing(1)}}}));function Se(e){var a=we(),t=r.a.useState(!1),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center",className:a.text},"Review Order"),r.a.createElement(d.a,{disablePadding:!0,component:"h4",variant:"subtitle1",align:"center",className:a.text},"To make changes to or remove an item, click on it"),r.a.createElement(z.a,null),r.a.createElement(ye,{order:e.order,price:e.price,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder,handlePriceChange:e.handlePriceChange})))),r.a.createElement("div",{elevation:0,className:a.fabSpace}),r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(b.a,{className:a.fab},r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:e.prevStep},"Add Items")),r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){0==e.order.length?o(!0):e.nextStep()}},"Continue"))),r.a.createElement(J.a,{open:i,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(M.a,{id:"alert-dialog-title"},"You haven't ordered anything yet!"),r.a.createElement(U.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},"To order items, go back to the previous page and add items."))))}var Oe=t(255),Ie=t(244),Ne=t(251);function ke(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://www.nchen.dev/"},"Nick Chen | Szechuan Bistro")," ",(new Date).getFullYear(),".")}var je=Object(x.a)((function(e){return{appBar:{position:"relative"},layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}}})),Ae=["Contact","Payment","Review your order"];function Be(e){var a=je(),t=r.a.useState(0),n=Object(u.a)(t,2),i=n[0],o=n[1],l=r.a.useState(!1),c=Object(u.a)(l,2),m=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Oe.a,{activeStep:i,className:a.stepper},Ae.map((function(e){return r.a.createElement(Ie.a,{key:e},r.a.createElement(Ne.a,null,e))}))),r.a.createElement(r.a.Fragment,null,i===Ae.length?"success"===e.callAPI()?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5",gutterBottom:!0},"Thank you for ordering from Szechuan Bistro!"),r.a.createElement(d.a,{variant:"subtitle1"},"We will be in contact shortly through phone by 405-752-8889 to confirm your order! Deliveries should be made within the hour, and pickup orders should be ready in 15 minutes. ",r.a.createElement("br",null)," Thank you for your patronage, we hope to serve you again soon.")):r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h5",gutterBottom:!0},"Sorry, but something went wrong and your order wasn't placed! Please try again, or give us a call at 405 752 8889.")):r.a.createElement(r.a.Fragment,null,function(a){switch(a){case 0:return r.a.createElement(ge,{information:e.information,handleInfoChange:e.handleInfoChange,handlePickupDeliveryToggle:e.handlePickupDeliveryToggle,options:e.options,price:e.price,setDeliveryFee:e.setDeliveryFee,dfeeCalced:e.dfeeCalced,setDfeeCalced:e.setDfeeCalced});case 1:return r.a.createElement(fe,{handlePaymentChange:e.handlePaymentChange,payment:e.payment,handleCardCashToggle:e.handleCardCashToggle,options:e.options});case 2:return r.a.createElement(Ee,{information:e.information,payment:e.payment,callAPI:e.callAPI,order:e.order,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder,price:e.price,handlePriceChange:e.handlePriceChange,options:e.options});default:throw new Error("Unknown step")}}(i)))),r.a.createElement(ke,null))),r.a.createElement("div",{elevation:0,className:a.fabSpace}),i!=Ae.length&&r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(b.a,{className:a.fab},r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){0===i?e.prevStep():o(i-1)}},0===i?"Edit Order":"Back")),r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){0==i&&e.dfeeCalced||0==i&&e.options.pickup?o(i+1):s(!0)}},i===Ae.length-1?"Place order":"Next"))),r.a.createElement(J.a,{open:m,onClose:function(){s(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(M.a,{id:"alert-dialog-title"},"Delivery Fee not yet calculated!"),r.a.createElement(U.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},"Once you've filled our your address, please click the button so we can calculate the delivery fee."))))}function Fe(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://www.nchen.dev/"},"Nick Chen | Szechuan Bistro")," ",(new Date).getFullYear())}var De=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}}})),Te=["Contact","Payment","Review your order"];function We(e){var a=De(),t=r.a.useState(""),n=Object(u.a)(t,2),i=n[0],o=n[1],l=r.a.useState(""),c=Object(u.a)(l,2),m=c[0],s=c[1],p=r.a.useState(!1),f=Object(u.a)(p,2),h=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Oe.a,{activeStep:0,className:a.stepper},Te.map((function(e){return r.a.createElement(Ie.a,{key:e},r.a.createElement(Ne.a,null,e))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{information:e.information,handleInfoChange:e.handleInfoChange,handlePickupDeliveryToggle:e.handlePickupDeliveryToggle,options:e.options,price:e.price,setDeliveryFee:e.setDeliveryFee,dfeeCalced:e.dfeeCalced,setDfeeCalced:e.setDfeeCalced}))),r.a.createElement(Fe,null))),r.a.createElement("div",{elevation:0,className:a.fabSpace}),r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(b.a,{className:a.fab},r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){e.prevStep()}},"Edit Order")),r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){if(""===e.information.fname||""===e.information.lname||""===e.information.phone)return o("Incomplete contact details"),s("Please fill in your contact details correctly"),void E(!0);e.options.pickup&&e.nextStep(),e.dfeeCalced?e.nextStep():(o("Delivery Fee not yet calculated!"),s("Once you've filled our your address, please click the button so we can calculate the delivery fee.")),E(!0)}},"Next"))),r.a.createElement(J.a,{open:h,onClose:function(){E(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(M.a,{id:"alert-dialog-title"},i),r.a.createElement(U.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},m))))}var Pe=t(92),Re=t.n(Pe),ze=t(122);function Le(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://www.nchen.dev/"},"Nick Chen | Szechuan Bistro")," ",(new Date).getFullYear())}var qe=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}}})),Ve=["Contact","Payment","Review your order"];function Qe(e){var a=qe(),t=r.a.useState(r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h5",gutterBottom:!0},"Processing Order..."))),i=Object(u.a)(t,2),o=i[0],l=i[1],c=function(){var a=Object(ze.a)(Re.a.mark((function a(){var t;return Re.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t={options:e.options,order:e.order,information:e.information,payment:e.payment,price:e.price},console.log("sending in order: "),console.log(t),s.a.post("/api/twilio",t).then((function(e){console.log("api reply: "+e.data.msg),"success"===e.data.msg?l(r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h5",gutterBottom:!0},"Thank you for ordering from Szechuan Bistro!"),r.a.createElement(d.a,{variant:"subtitle1"},"We will be in contact shortly through phone by 405-752-8889 to confirm your order! Deliveries should be made within the hour, and pickup orders should be ready in 15 minutes. ",r.a.createElement("br",null)," Thank you for your patronage, we hope to serve you again soon."))):l("something unexpected")})).catch((function(e){console.error(e),l(r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h5",gutterBottom:!0},"Sorry, but something went wrong and your order wasn't placed! Please try again, or give us a call at 405 752 8889.")))}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Oe.a,{activeStep:2,className:a.stepper},Ve.map((function(e){return r.a.createElement(Ie.a,{key:e},r.a.createElement(Ne.a,null,e))}))),o),r.a.createElement(Le,null))))}function Ye(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://www.nchen.dev/"},"Nick Chen | Szechuan Bistro")," ",(new Date).getFullYear())}var Je=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}}})),Ge=["Contact","Payment","Review your order"];function Ue(e){var a=Je();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Oe.a,{activeStep:2,className:a.stepper},Ge.map((function(e){return r.a.createElement(Ie.a,{key:e},r.a.createElement(Ne.a,null,e))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{information:e.information,payment:e.payment,order:e.order,removeFromOrder:e.removeFromOrder,editInOrder:e.editInOrder,price:e.price,handlePriceChange:e.handlePriceChange,options:e.options}))),r.a.createElement(Ye,null))),r.a.createElement("div",{elevation:0,className:a.fabSpace}),r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(b.a,{className:a.fab},r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){e.prevStep()}},"Back")),r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){e.nextStep()}},"Place Order"))))}function He(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://www.nchen.dev/"},"Nick Chen | Szechuan Bistro")," ",(new Date).getFullYear())}var Me=Object(x.a)((function(e){return{layout:Object(k.a)({width:"fill",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"80vw",marginLeft:"auto",marginRight:"auto"}),paper:Object(k.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},fab:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"80vw"},fab2:{margin:0,bottom:e.spacing(1),left:"auto",position:"fixed",minWidth:"40vw"},fabSpace:{margin:e.spacing(1),height:"40px"}}})),Xe=["Contact","Payment","Review your order"];function $e(e){var a=Me(),t=r.a.useState(!1),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(de,{title:"Szechuan Bistro",resetInformationState:e.resetInformationState}),r.a.createElement("div",null,r.a.createElement("main",{className:a.layout},r.a.createElement(b.a,{className:a.paper},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Checkout"),r.a.createElement(Oe.a,{activeStep:1,className:a.stepper},Xe.map((function(e){return r.a.createElement(Ie.a,{key:e},r.a.createElement(Ne.a,null,e))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{handlePaymentChange:e.handlePaymentChange,payment:e.payment,handleCardCashToggle:e.handleCardCashToggle,options:e.options}))),r.a.createElement(He,null))),r.a.createElement("div",{elevation:0,className:a.fabSpace}),r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(b.a,{className:a.fab},r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){e.prevStep()}},"Back")),r.a.createElement(b.a,null,r.a.createElement(D.a,{variant:"extended",color:"primary","aria-label":"add",className:(a.margin,a.fab2),onClick:function(){e.options.cash||!(""===e.payment.name||""===e.payment.cc||""===e.payment.exp||""==e.payment.cvv||e.payment.cc.length<16||e.payment.cvv.length<3)?e.nextStep():o(!0)}},"Next"))),r.a.createElement(J.a,{open:i,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(M.a,{id:"alert-dialog-title"},"Incomplete/Invalid payment information!"),r.a.createElement(U.a,null,r.a.createElement(H.a,{id:"alert-dialog-description"},"Please fill out your credit card information correctly."))))}function Ke(e){var a,t=r.a.useState({english:!0,pickup:!1,cash:!1,dfee:0}),i=Object(u.a)(t,2),o=i[0],l=i[1],c=r.a.useState({}),m=Object(u.a)(c,2),d=m[0],p=m[1],g=r.a.useState([]),f=Object(u.a)(g,2),h=f[0],E=f[1],v=r.a.useState({fname:"",lname:"",phone:"",address:"",city:"",state:"OK",zip:"",driverNotes:""}),b=Object(u.a)(v,2),y=b[0],C=b[1],x=r.a.useState({name:"",cc:"",exp:"",cvv:""}),w=Object(u.a)(x,2),S=w[0],O=w[1],I=r.a.useState({subtotal:0,tax:0,dfee:"Not yet calculated",total:0}),N=Object(u.a)(I,2),A=N[0],B=N[1],F=r.a.useState(1),D=Object(u.a)(F,2),T=D[0],W=D[1],P=r.a.useState(!1),R=Object(u.a)(P,2),z=R[0],L=R[1];Object(n.useEffect)((function(){console.log("trigger use effect hook"),s.a.get("https://www.neckch.in/sbistro/menu.json").then((function(e){return p(e.data)})),"undefined"!==localStorage.getItem("information")&&null!==localStorage.getItem("information")?C(JSON.parse(localStorage.getItem("information"))):"undefined"!==sessionStorage.getItem("information")&&null!==sessionStorage.getItem("information")&&C(JSON.parse(sessionStorage.getItem("information")))}),[]);var q=function(){console.log("proceeding to next step"),W(T+1)},V=function(){console.log("proceeding to next step"),W(T-1)},Q=function(e){console.log("removing order item at index"+e);var a=A.subtotal-parseInt(h[e].amount)*parseFloat(h[e].price),t=.09*a,n=A.dfee,r=a+t;isNaN(n)||(r+=n),B({subtotal:a,tax:t,dfee:n,total:r});var i=h.slice(0);E([].concat(Object(j.a)(i.slice(0,e)),Object(j.a)(i.slice(e+1)))),console.log("order after removing item: "+JSON.stringify(h))},Y=function(e,a,t){console.log("editing item at index"+e+"; amount: "+a+", note: "+t);var n=A.subtotal+a*parseFloat(h[e].price),r=.09*n,i=A.dfee,o=n+r;isNaN(i)||(o+=i),B({subtotal:n,tax:r,dfee:i,total:o});var l=h[e];l.amount+=a,l.note=t,h[e]=l,E(h),console.log("order after editing item: "+JSON.stringify(h))},J=function(e){return function(a){y[e]=a.target.value,C(y),L(!1)}},G=function(e){return function(a){console.log("editing payment."+e+" to be "+a.target.value),S[e]=a.target.value,O(S)}},U=function(){console.log("user paying with cash: "+S.cash),o.cash=!o.cash,l(o)},H=function(){console.log("user picking up: "+y.cash),o.pickup=!o.pickup,l(o);var e=isNaN(A.dfee)?0:A.dfee;o.pickup?A.dfee=0:A.dfee=o.dfee,A.total+=A.dfee-e,B(A)},M=function(e,a){console.log("hit"),A[e]=a,B(A)},X=function(){C({name:"",address:"",phone:"",driverNotes:"",cc:"",exp:"",cvv:""})},$=function(e){console.log("yup here"),o.dfee=e,l(o),A.dfee=e,B(A)};switch(T){case 1:return r.a.createElement(xe,{menu:d,order:h,addToOrder:function(e){console.log("adding "+JSON.stringify(e)+" to order");var a=A.subtotal+parseInt(e.amount)*parseFloat(e.price),t=.09*a,n=A.dfee,r=a+t;isNaN(n)||(r+=n),B({subtotal:a,tax:t,dfee:n,total:r}),E([].concat(Object(j.a)(h),[e])),console.log("order after adding item: "+JSON.stringify(h))},resetInformationState:X,prevStep:V,nextStep:q});case 2:return r.a.createElement(Se,{order:h,price:A,removeFromOrder:Q,editInOrder:Y,handlePriceChange:M,resetInformationState:X,prevStep:V,nextStep:q});case 3:return r.a.createElement(We,{options:o,dfeeCalced:z,resetInformationState:X,handleInfoChange:J,information:y,handlePickupDeliveryToggle:H,price:A,setDeliveryFee:$,setDfeeCalced:L,nextStep:q,prevStep:V});case 4:return r.a.createElement($e,{options:o,resetInformationState:X,payment:S,handlePaymentChange:G,handleCardCashToggle:U,nextStep:q,prevStep:V});case 5:return r.a.createElement(Ue,{information:y,payment:S,order:h,removeFromOrder:Q,editInOrder:Y,price:A,handlePriceChange:M,options:o,nextStep:q,prevStep:V});case 6:return r.a.createElement(Qe,{resetInformationState:X,options:o,order:h,information:y,payment:S,price:A});case 3:return r.a.createElement(Be,(a={options:o,handleInfoChange:J,prevStep:V,information:y,resetInformationState:X,payment:S,handlePaymentChange:G,handleCardCashToggle:U,order:h},Object(k.a)(a,"order",h),Object(k.a)(a,"removeFromOrder",Q),Object(k.a)(a,"editInOrder",Y),Object(k.a)(a,"price",A),Object(k.a)(a,"handlePriceChange",M),Object(k.a)(a,"pd",o.pd),Object(k.a)(a,"handlePickupDeliveryToggle",H),Object(k.a)(a,"setDeliveryFee",$),Object(k.a)(a,"dfeeCalced",z),Object(k.a)(a,"setDfeeCalced",L),a))}}var Ze=t(253);var _e=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(/api/image/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ea(e){var a=_e(),t=r.a.useState({fname:"",lname:"",email:"",password:"",password2:""}),n=Object(u.a)(t,2),i=n[0],o=n[1],l=r.a.useState(""),c=Object(u.a)(l,2),m=c[0],h=c[1],E=r.a.useState(!1),y=Object(u.a)(E,2),x=y[0],w=y[1],O=function(a){e.history.push("/")},I=function(e){return function(a){i[e]=a.target.value,o(i),console.log(i)}};return r.a.createElement(C.a,{container:!0,component:"main",className:a.root},r.a.createElement(g.a,null),r.a.createElement(C.a,{item:!0,xs:!1,sm:4,md:7,className:a.image}),r.a.createElement(C.a,{item:!0,xs:12,sm:8,md:5,component:b.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement("img",{src:S.a,style:{height:"15vh"}}),r.a.createElement(d.a,{component:"h1",variant:"h5"},"Szechuan Bistro"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(C.a,{container:!0,spacing:2},r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:I("fname")})),r.a.createElement(C.a,{item:!0,xs:12,sm:6},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:I("lname")})),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:I("email")})),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:I("password")})),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password",onChange:I("password2")}))),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(d.a,{variant:"body2",color:"error"},m))),r.a.createElement(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(){return function(e){var a=i;console.log("calling api"),s.a.post("/api/user/register",a).then((function(e){var a="";Object.keys(e.data).length>1?(console.log("there was errors!"),e.data.errors.forEach((function(e){console.log("error: "+e),a+=e+"\n"})),w(!1)):(w(!0),o({fname:"",lname:"",email:"",password:"",password2:""}),console.log("there were no errors"),setTimeout((function(){O()}),5e3)),h(a)})).catch((function(e){console.error(e)})),console.log(a)}()}},"Register"),r.a.createElement(C.a,{container:!0,justify:"flex-end"},r.a.createElement(C.a,{item:!0},r.a.createElement(v.a,{onClick:function(e){return O()},variant:"body2"},"Already have an account? Log In"))),r.a.createElement(Ze.a,{open:x,autoHideDuration:6e3,onClose:function(e,a){"clickaway"!==a&&w(!1)}},r.a.createElement(ue.a,{severity:"success"},"Registration Success. You may now log in"))))))}t(173),t(174);function aa(){return r.a.createElement(d.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"https://szechuanbistro.com"},"Szechuan Bistro")," ",(new Date).getFullYear(),".")}var ta=function(){return r.a.createElement(l.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/ordersystem",component:Ke,Copyright:aa}),r.a.createElement(c.a,{path:"/register",component:ea,Copyright:aa}),r.a.createElement(c.a,{path:"/",component:N,Copyright:aa})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,a,t){e.exports=t.p+"static/media/logo.b1d6964c.png"}},[[144,1,2]]]);
//# sourceMappingURL=main.c8e2ff98.chunk.js.map